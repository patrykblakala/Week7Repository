<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" th:href="@{/tableStyle.css}">
    <title>All Department Managers</title>
</head>
<body>

<div th:insert="/navbar/navbar.html :: navbar">  </div>
<div class="container" style="margin-top: 30px;">
<table>
  <thead>
  <tr>
    <th>View</th>
    <th>Employee Number</th>
    <th>Department</th>
    <th>From Date</th>
    <th>To Date</th>
    <th>Update</th>
    <th>Delete</th>

  </thead>
  <tr th:each="departmentManager:${departmentManagers}">
    <td>
      <a th:href="@{/web/departmentManager/basic/show(empNo=${departmentManager.getEmpNo.id}, deptNo=${departmentManager.getDeptNo.id})}" th:text="'View'" /></td>
    <td th:text="'ID: ' + ${departmentManager.getEmpNo.id} + ' - ' + ${departmentManager.getEmpNo.firstName} + ' ' + ${departmentManager.getEmpNo.lastName} "></td>
    <td th:text="${departmentManager.getDeptNo.id}"></td>
    <td th:text="${departmentManager.fromDate}"></td>
    <td th:text="${departmentManager.toDate}"></td>
    <td>
      <a th:href="@{/web/departmentManager/update/update(empNo=${departmentManager.getEmpNo.id}, deptNo=${departmentManager.getDeptNo.id})}" th:text="'Update'" /></td>

    </td>
    <td>
      <form th:action="@{/web/departmentManager/admin/delete}" method="POST">
        <input type="hidden" id="empNo" th:name="empNo" th:value="${departmentManager.getEmpNo.id}">
        <input type="hidden" id="deptNo"  th:name="deptNo" th:value="${departmentManager.getDeptNo.id}">

        <input type="submit" value="Delete"/>
      </form>
    </td>
  </tr>
</table>
</div>
</body>
</html>